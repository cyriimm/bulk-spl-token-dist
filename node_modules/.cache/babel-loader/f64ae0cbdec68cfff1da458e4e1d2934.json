{"ast":null,"code":"\"use strict\"; // @ts-nocheck\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setLayoutEncoder = exports.setLayoutDecoder = exports.accountFlagsLayout = exports.selfTradeBehaviorLayout = exports.orderTypeLayout = exports.sideLayout = exports.VersionedLayout = exports.WideBits = exports.u128 = exports.u64 = exports.publicKeyLayout = exports.zeros = void 0;\n\nconst buffer_layout_1 = require(\"buffer-layout\");\n\nconst web3_js_1 = require(\"@solana/web3.js\");\n\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\n\nclass Zeros extends buffer_layout_1.Blob {\n  decode(b, offset) {\n    const slice = super.decode(b, offset);\n\n    if (!slice.every(v => v === 0)) {\n      throw new Error('nonzero padding bytes');\n    }\n\n    return slice;\n  }\n\n}\n\nfunction zeros(length) {\n  return new Zeros(length);\n}\n\nexports.zeros = zeros;\n\nclass PublicKeyLayout extends buffer_layout_1.Blob {\n  constructor(property) {\n    super(32, property);\n  }\n\n  decode(b, offset) {\n    return new web3_js_1.PublicKey(super.decode(b, offset));\n  }\n\n  encode(src, b, offset) {\n    return super.encode(src.toBuffer(), b, offset);\n  }\n\n}\n\nfunction publicKeyLayout(property) {\n  return new PublicKeyLayout(property);\n}\n\nexports.publicKeyLayout = publicKeyLayout;\n\nclass BNLayout extends buffer_layout_1.Blob {\n  decode(b, offset) {\n    return new bn_js_1.default(super.decode(b, offset), 10, 'le');\n  }\n\n  encode(src, b, offset) {\n    return super.encode(src.toArrayLike(Buffer, 'le', this.span), b, offset);\n  }\n\n}\n\nfunction u64(property) {\n  return new BNLayout(8, property);\n}\n\nexports.u64 = u64;\n\nfunction u128(property) {\n  return new BNLayout(16, property);\n}\n\nexports.u128 = u128;\n\nclass WideBits extends buffer_layout_1.Layout {\n  constructor(property) {\n    super(8, property);\n    this._lower = buffer_layout_1.bits(buffer_layout_1.u32(), false);\n    this._upper = buffer_layout_1.bits(buffer_layout_1.u32(), false);\n  }\n\n  addBoolean(property) {\n    if (this._lower.fields.length < 32) {\n      this._lower.addBoolean(property);\n    } else {\n      this._upper.addBoolean(property);\n    }\n  }\n\n  decode(b, offset = 0) {\n    const lowerDecoded = this._lower.decode(b, offset);\n\n    const upperDecoded = this._upper.decode(b, offset + this._lower.span);\n\n    return { ...lowerDecoded,\n      ...upperDecoded\n    };\n  }\n\n  encode(src, b, offset = 0) {\n    return this._lower.encode(src, b, offset) + this._upper.encode(src, b, offset + this._lower.span);\n  }\n\n}\n\nexports.WideBits = WideBits;\n\nclass VersionedLayout extends buffer_layout_1.Layout {\n  constructor(version, inner, property) {\n    super(inner.span > 0 ? inner.span + 1 : inner.span, property);\n    this.version = version;\n    this.inner = inner;\n  }\n\n  decode(b, offset = 0) {\n    // if (b.readUInt8(offset) !== this._version) {\n    //   throw new Error('invalid version');\n    // }\n    return this.inner.decode(b, offset + 1);\n  }\n\n  encode(src, b, offset = 0) {\n    b.writeUInt8(this.version, offset);\n    return 1 + this.inner.encode(src, b, offset + 1);\n  }\n\n  getSpan(b, offset = 0) {\n    return 1 + this.inner.getSpan(b, offset + 1);\n  }\n\n}\n\nexports.VersionedLayout = VersionedLayout;\n\nclass EnumLayout extends buffer_layout_1.UInt {\n  constructor(values, span, property) {\n    super(span, property);\n    this.values = values;\n  }\n\n  encode(src, b, offset) {\n    if (this.values[src] !== undefined) {\n      return super.encode(this.values[src], b, offset);\n    }\n\n    throw new Error('Invalid ' + this.property);\n  }\n\n  decode(b, offset) {\n    const decodedValue = super.decode(b, offset);\n    const entry = Object.entries(this.values).find(([, value]) => value === decodedValue);\n\n    if (entry) {\n      return entry[0];\n    }\n\n    throw new Error('Invalid ' + this.property);\n  }\n\n}\n\nfunction sideLayout(property) {\n  return new EnumLayout({\n    buy: 0,\n    sell: 1\n  }, 4, property);\n}\n\nexports.sideLayout = sideLayout;\n\nfunction orderTypeLayout(property) {\n  return new EnumLayout({\n    limit: 0,\n    ioc: 1,\n    postOnly: 2\n  }, 4, property);\n}\n\nexports.orderTypeLayout = orderTypeLayout;\n\nfunction selfTradeBehaviorLayout(property) {\n  return new EnumLayout({\n    decrementTake: 0,\n    cancelProvide: 1,\n    abortTransaction: 2\n  }, 4, property);\n}\n\nexports.selfTradeBehaviorLayout = selfTradeBehaviorLayout;\nconst ACCOUNT_FLAGS_LAYOUT = new WideBits();\nACCOUNT_FLAGS_LAYOUT.addBoolean('initialized');\nACCOUNT_FLAGS_LAYOUT.addBoolean('market');\nACCOUNT_FLAGS_LAYOUT.addBoolean('openOrders');\nACCOUNT_FLAGS_LAYOUT.addBoolean('requestQueue');\nACCOUNT_FLAGS_LAYOUT.addBoolean('eventQueue');\nACCOUNT_FLAGS_LAYOUT.addBoolean('bids');\nACCOUNT_FLAGS_LAYOUT.addBoolean('asks');\n\nfunction accountFlagsLayout(property = 'accountFlags') {\n  return ACCOUNT_FLAGS_LAYOUT.replicate(property);\n}\n\nexports.accountFlagsLayout = accountFlagsLayout;\n\nfunction setLayoutDecoder(layout, decoder) {\n  const originalDecode = layout.decode;\n\n  layout.decode = function decode(b, offset = 0) {\n    return decoder(originalDecode.call(this, b, offset));\n  };\n}\n\nexports.setLayoutDecoder = setLayoutDecoder;\n\nfunction setLayoutEncoder(layout, encoder) {\n  const originalEncode = layout.encode;\n\n  layout.encode = function encode(src, b, offset) {\n    return originalEncode.call(this, encoder(src), b, offset);\n  };\n\n  return layout;\n}\n\nexports.setLayoutEncoder = setLayoutEncoder;","map":{"version":3,"sources":["../src/layout.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n// @ts-nocheck\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setLayoutEncoder = exports.setLayoutDecoder = exports.accountFlagsLayout = exports.selfTradeBehaviorLayout = exports.orderTypeLayout = exports.sideLayout = exports.VersionedLayout = exports.WideBits = exports.u128 = exports.u64 = exports.publicKeyLayout = exports.zeros = void 0;\nconst buffer_layout_1 = require(\"buffer-layout\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nclass Zeros extends buffer_layout_1.Blob {\n    decode(b, offset) {\n        const slice = super.decode(b, offset);\n        if (!slice.every((v) => v === 0)) {\n            throw new Error('nonzero padding bytes');\n        }\n        return slice;\n    }\n}\nfunction zeros(length) {\n    return new Zeros(length);\n}\nexports.zeros = zeros;\nclass PublicKeyLayout extends buffer_layout_1.Blob {\n    constructor(property) {\n        super(32, property);\n    }\n    decode(b, offset) {\n        return new web3_js_1.PublicKey(super.decode(b, offset));\n    }\n    encode(src, b, offset) {\n        return super.encode(src.toBuffer(), b, offset);\n    }\n}\nfunction publicKeyLayout(property) {\n    return new PublicKeyLayout(property);\n}\nexports.publicKeyLayout = publicKeyLayout;\nclass BNLayout extends buffer_layout_1.Blob {\n    decode(b, offset) {\n        return new bn_js_1.default(super.decode(b, offset), 10, 'le');\n    }\n    encode(src, b, offset) {\n        return super.encode(src.toArrayLike(Buffer, 'le', this.span), b, offset);\n    }\n}\nfunction u64(property) {\n    return new BNLayout(8, property);\n}\nexports.u64 = u64;\nfunction u128(property) {\n    return new BNLayout(16, property);\n}\nexports.u128 = u128;\nclass WideBits extends buffer_layout_1.Layout {\n    constructor(property) {\n        super(8, property);\n        this._lower = buffer_layout_1.bits(buffer_layout_1.u32(), false);\n        this._upper = buffer_layout_1.bits(buffer_layout_1.u32(), false);\n    }\n    addBoolean(property) {\n        if (this._lower.fields.length < 32) {\n            this._lower.addBoolean(property);\n        }\n        else {\n            this._upper.addBoolean(property);\n        }\n    }\n    decode(b, offset = 0) {\n        const lowerDecoded = this._lower.decode(b, offset);\n        const upperDecoded = this._upper.decode(b, offset + this._lower.span);\n        return { ...lowerDecoded, ...upperDecoded };\n    }\n    encode(src, b, offset = 0) {\n        return (this._lower.encode(src, b, offset) +\n            this._upper.encode(src, b, offset + this._lower.span));\n    }\n}\nexports.WideBits = WideBits;\nclass VersionedLayout extends buffer_layout_1.Layout {\n    constructor(version, inner, property) {\n        super(inner.span > 0 ? inner.span + 1 : inner.span, property);\n        this.version = version;\n        this.inner = inner;\n    }\n    decode(b, offset = 0) {\n        // if (b.readUInt8(offset) !== this._version) {\n        //   throw new Error('invalid version');\n        // }\n        return this.inner.decode(b, offset + 1);\n    }\n    encode(src, b, offset = 0) {\n        b.writeUInt8(this.version, offset);\n        return 1 + this.inner.encode(src, b, offset + 1);\n    }\n    getSpan(b, offset = 0) {\n        return 1 + this.inner.getSpan(b, offset + 1);\n    }\n}\nexports.VersionedLayout = VersionedLayout;\nclass EnumLayout extends buffer_layout_1.UInt {\n    constructor(values, span, property) {\n        super(span, property);\n        this.values = values;\n    }\n    encode(src, b, offset) {\n        if (this.values[src] !== undefined) {\n            return super.encode(this.values[src], b, offset);\n        }\n        throw new Error('Invalid ' + this.property);\n    }\n    decode(b, offset) {\n        const decodedValue = super.decode(b, offset);\n        const entry = Object.entries(this.values).find(([, value]) => value === decodedValue);\n        if (entry) {\n            return entry[0];\n        }\n        throw new Error('Invalid ' + this.property);\n    }\n}\nfunction sideLayout(property) {\n    return new EnumLayout({ buy: 0, sell: 1 }, 4, property);\n}\nexports.sideLayout = sideLayout;\nfunction orderTypeLayout(property) {\n    return new EnumLayout({ limit: 0, ioc: 1, postOnly: 2 }, 4, property);\n}\nexports.orderTypeLayout = orderTypeLayout;\nfunction selfTradeBehaviorLayout(property) {\n    return new EnumLayout({ decrementTake: 0, cancelProvide: 1, abortTransaction: 2 }, 4, property);\n}\nexports.selfTradeBehaviorLayout = selfTradeBehaviorLayout;\nconst ACCOUNT_FLAGS_LAYOUT = new WideBits();\nACCOUNT_FLAGS_LAYOUT.addBoolean('initialized');\nACCOUNT_FLAGS_LAYOUT.addBoolean('market');\nACCOUNT_FLAGS_LAYOUT.addBoolean('openOrders');\nACCOUNT_FLAGS_LAYOUT.addBoolean('requestQueue');\nACCOUNT_FLAGS_LAYOUT.addBoolean('eventQueue');\nACCOUNT_FLAGS_LAYOUT.addBoolean('bids');\nACCOUNT_FLAGS_LAYOUT.addBoolean('asks');\nfunction accountFlagsLayout(property = 'accountFlags') {\n    return ACCOUNT_FLAGS_LAYOUT.replicate(property);\n}\nexports.accountFlagsLayout = accountFlagsLayout;\nfunction setLayoutDecoder(layout, decoder) {\n    const originalDecode = layout.decode;\n    layout.decode = function decode(b, offset = 0) {\n        return decoder(originalDecode.call(this, b, offset));\n    };\n}\nexports.setLayoutDecoder = setLayoutDecoder;\nfunction setLayoutEncoder(layout, encoder) {\n    const originalEncode = layout.encode;\n    layout.encode = function encode(src, b, offset) {\n        return originalEncode.call(this, encoder(src), b, offset);\n    };\n    return layout;\n}\nexports.setLayoutEncoder = setLayoutEncoder;\n//# sourceMappingURL=layout.js.map"]},"metadata":{},"sourceType":"script"}