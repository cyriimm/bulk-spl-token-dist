{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFeeTier = exports.getFeeRates = exports.supportsSrmFeeDiscounts = void 0;\n\nconst tokens_and_markets_1 = require(\"./tokens_and_markets\");\n\nfunction supportsSrmFeeDiscounts(programId) {\n  return tokens_and_markets_1.getLayoutVersion(programId) > 1;\n}\n\nexports.supportsSrmFeeDiscounts = supportsSrmFeeDiscounts;\n\nfunction getFeeRates(feeTier) {\n  if (feeTier === 1) {\n    // SRM2\n    return {\n      taker: 0.002,\n      maker: -0.0003\n    };\n  } else if (feeTier === 2) {\n    // SRM3\n    return {\n      taker: 0.0018,\n      maker: -0.0003\n    };\n  } else if (feeTier === 3) {\n    // SRM4\n    return {\n      taker: 0.0016,\n      maker: -0.0003\n    };\n  } else if (feeTier === 4) {\n    // SRM5\n    return {\n      taker: 0.0014,\n      maker: -0.0003\n    };\n  } else if (feeTier === 5) {\n    // SRM6\n    return {\n      taker: 0.0012,\n      maker: -0.0003\n    };\n  } else if (feeTier === 6) {\n    // MSRM\n    return {\n      taker: 0.001,\n      maker: -0.0005\n    };\n  } // Base\n\n\n  return {\n    taker: 0.0022,\n    maker: -0.0003\n  };\n}\n\nexports.getFeeRates = getFeeRates;\n\nfunction getFeeTier(msrmBalance, srmBalance) {\n  if (msrmBalance >= 1) {\n    return 6;\n  } else if (srmBalance >= 1000000) {\n    return 5;\n  } else if (srmBalance >= 100000) {\n    return 4;\n  } else if (srmBalance >= 10000) {\n    return 3;\n  } else if (srmBalance >= 1000) {\n    return 2;\n  } else if (srmBalance >= 100) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nexports.getFeeTier = getFeeTier;","map":{"version":3,"sources":["../src/fees.ts"],"names":[],"mappings":";;;;;;;AACA,MAAA,oBAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;;AAEA,SAAgB,uBAAhB,CAAwC,SAAxC,EAA4D;AAC1D,SAAO,oBAAA,CAAA,gBAAA,CAAiB,SAAjB,IAA8B,CAArC;AACD;;AAFD,OAAA,CAAA,uBAAA,GAAA,uBAAA;;AAIA,SAAgB,WAAhB,CAA4B,OAA5B,EAA2C;AACzC,MAAI,OAAO,KAAK,CAAhB,EAAmB;AACjB;AACA,WAAO;AAAE,MAAA,KAAK,EAAE,KAAT;AAAgB,MAAA,KAAK,EAAE,CAAC;AAAxB,KAAP;AACD,GAHD,MAGO,IAAI,OAAO,KAAK,CAAhB,EAAmB;AACxB;AACA,WAAO;AAAE,MAAA,KAAK,EAAE,MAAT;AAAiB,MAAA,KAAK,EAAE,CAAC;AAAzB,KAAP;AACD,GAHM,MAGA,IAAI,OAAO,KAAK,CAAhB,EAAmB;AACxB;AACA,WAAO;AAAE,MAAA,KAAK,EAAE,MAAT;AAAiB,MAAA,KAAK,EAAE,CAAC;AAAzB,KAAP;AACD,GAHM,MAGA,IAAI,OAAO,KAAK,CAAhB,EAAmB;AACxB;AACA,WAAO;AAAE,MAAA,KAAK,EAAE,MAAT;AAAiB,MAAA,KAAK,EAAE,CAAC;AAAzB,KAAP;AACD,GAHM,MAGA,IAAI,OAAO,KAAK,CAAhB,EAAmB;AACxB;AACA,WAAO;AAAE,MAAA,KAAK,EAAE,MAAT;AAAiB,MAAA,KAAK,EAAE,CAAC;AAAzB,KAAP;AACD,GAHM,MAGA,IAAI,OAAO,KAAK,CAAhB,EAAmB;AACxB;AACA,WAAO;AAAE,MAAA,KAAK,EAAE,KAAT;AAAgB,MAAA,KAAK,EAAE,CAAC;AAAxB,KAAP;AACD,GAnBwC,CAoBzC;;;AACA,SAAO;AAAE,IAAA,KAAK,EAAE,MAAT;AAAiB,IAAA,KAAK,EAAE,CAAC;AAAzB,GAAP;AACD;;AAtBD,OAAA,CAAA,WAAA,GAAA,WAAA;;AAwBA,SAAgB,UAAhB,CAA2B,WAA3B,EAAgD,UAAhD,EAAkE;AAChE,MAAI,WAAW,IAAI,CAAnB,EAAsB;AACpB,WAAO,CAAP;AACD,GAFD,MAEO,IAAI,UAAU,IAAI,OAAlB,EAA6B;AAClC,WAAO,CAAP;AACD,GAFM,MAEA,IAAI,UAAU,IAAI,MAAlB,EAA2B;AAChC,WAAO,CAAP;AACD,GAFM,MAEA,IAAI,UAAU,IAAI,KAAlB,EAA0B;AAC/B,WAAO,CAAP;AACD,GAFM,MAEA,IAAI,UAAU,IAAI,IAAlB,EAAyB;AAC9B,WAAO,CAAP;AACD,GAFM,MAEA,IAAI,UAAU,IAAI,GAAlB,EAAuB;AAC5B,WAAO,CAAP;AACD,GAFM,MAEA;AACL,WAAO,CAAP;AACD;AACF;;AAhBD,OAAA,CAAA,UAAA,GAAA,UAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFeeTier = exports.getFeeRates = exports.supportsSrmFeeDiscounts = void 0;\nconst tokens_and_markets_1 = require(\"./tokens_and_markets\");\nfunction supportsSrmFeeDiscounts(programId) {\n    return tokens_and_markets_1.getLayoutVersion(programId) > 1;\n}\nexports.supportsSrmFeeDiscounts = supportsSrmFeeDiscounts;\nfunction getFeeRates(feeTier) {\n    if (feeTier === 1) {\n        // SRM2\n        return { taker: 0.002, maker: -0.0003 };\n    }\n    else if (feeTier === 2) {\n        // SRM3\n        return { taker: 0.0018, maker: -0.0003 };\n    }\n    else if (feeTier === 3) {\n        // SRM4\n        return { taker: 0.0016, maker: -0.0003 };\n    }\n    else if (feeTier === 4) {\n        // SRM5\n        return { taker: 0.0014, maker: -0.0003 };\n    }\n    else if (feeTier === 5) {\n        // SRM6\n        return { taker: 0.0012, maker: -0.0003 };\n    }\n    else if (feeTier === 6) {\n        // MSRM\n        return { taker: 0.001, maker: -0.0005 };\n    }\n    // Base\n    return { taker: 0.0022, maker: -0.0003 };\n}\nexports.getFeeRates = getFeeRates;\nfunction getFeeTier(msrmBalance, srmBalance) {\n    if (msrmBalance >= 1) {\n        return 6;\n    }\n    else if (srmBalance >= 1000000) {\n        return 5;\n    }\n    else if (srmBalance >= 100000) {\n        return 4;\n    }\n    else if (srmBalance >= 10000) {\n        return 3;\n    }\n    else if (srmBalance >= 1000) {\n        return 2;\n    }\n    else if (srmBalance >= 100) {\n        return 1;\n    }\n    else {\n        return 0;\n    }\n}\nexports.getFeeTier = getFeeTier;\n//# sourceMappingURL=fees.js.map"]},"metadata":{},"sourceType":"script"}