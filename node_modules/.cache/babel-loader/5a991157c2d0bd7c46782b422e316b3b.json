{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.closeAccount = exports.mintTo = exports.setAuthority = exports.revoke = exports.approve = exports.transfer = exports.initializeAccount = exports.initializeMint = exports.decodeTokenInstructionData = exports.SRM_DECIMALS = exports.SRM_MINT = exports.MSRM_DECIMALS = exports.MSRM_MINT = exports.WRAPPED_SOL_MINT = exports.TOKEN_PROGRAM_ID = exports.CLOSE_ACCOUNT_OWNER_INDEX = exports.CLOSE_ACCOUNT_DESTINATION_INDEX = exports.CLOSE_ACCOUNT_SOURCE_INDEX = exports.TRANSFER_OWNER_INDEX = exports.TRANSFER_DESTINATION_INDEX = exports.TRANSFER_SOURCE_INDEX = exports.INITIALIZE_ACCOUNT_OWNER_INDEX = exports.INITIALIZE_ACCOUNT_MINT_INDEX = exports.INITIALIZE_ACCOUNT_ACCOUNT_INDEX = void 0;\n\nconst BufferLayout = __importStar(require(\"buffer-layout\"));\n\nconst web3_js_1 = require(\"@solana/web3.js\");\n\nconst layout_1 = require(\"./layout\"); // NOTE: Update these if the position of arguments for the initializeAccount instruction changes\n\n\nexports.INITIALIZE_ACCOUNT_ACCOUNT_INDEX = 0;\nexports.INITIALIZE_ACCOUNT_MINT_INDEX = 1;\nexports.INITIALIZE_ACCOUNT_OWNER_INDEX = 2; // NOTE: Update these if the position of arguments for the transfer instruction changes\n\nexports.TRANSFER_SOURCE_INDEX = 0;\nexports.TRANSFER_DESTINATION_INDEX = 1;\nexports.TRANSFER_OWNER_INDEX = 2; // NOTE: Update these if the position of arguments for the closeAccount instruction changes\n\nexports.CLOSE_ACCOUNT_SOURCE_INDEX = 0;\nexports.CLOSE_ACCOUNT_DESTINATION_INDEX = 1;\nexports.CLOSE_ACCOUNT_OWNER_INDEX = 2;\nexports.TOKEN_PROGRAM_ID = new web3_js_1.PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');\nexports.WRAPPED_SOL_MINT = new web3_js_1.PublicKey('So11111111111111111111111111111111111111112');\nexports.MSRM_MINT = new web3_js_1.PublicKey('MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L');\nexports.MSRM_DECIMALS = 0;\nexports.SRM_MINT = new web3_js_1.PublicKey('SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt');\nexports.SRM_DECIMALS = 6;\nconst LAYOUT = BufferLayout.union(BufferLayout.u8('instruction'));\nLAYOUT.addVariant(0, BufferLayout.struct([BufferLayout.u8('decimals'), layout_1.publicKeyLayout('mintAuthority'), BufferLayout.u8('freezeAuthorityOption'), layout_1.publicKeyLayout('freezeAuthority')]), 'initializeMint');\nLAYOUT.addVariant(1, BufferLayout.struct([]), 'initializeAccount');\nLAYOUT.addVariant(3, BufferLayout.struct([BufferLayout.nu64('amount')]), 'transfer');\nLAYOUT.addVariant(4, BufferLayout.struct([BufferLayout.nu64('amount')]), 'approve');\nLAYOUT.addVariant(5, BufferLayout.struct([]), 'revoke');\nLAYOUT.addVariant(6, BufferLayout.struct([BufferLayout.u8('authorityType'), BufferLayout.u8('newAuthorityOption'), layout_1.publicKeyLayout('newAuthority')]), 'setAuthority');\nLAYOUT.addVariant(7, BufferLayout.struct([BufferLayout.nu64('amount')]), 'mintTo');\nLAYOUT.addVariant(8, BufferLayout.struct([BufferLayout.nu64('amount')]), 'burn');\nLAYOUT.addVariant(9, BufferLayout.struct([]), 'closeAccount');\nconst instructionMaxSpan = Math.max(...Object.values(LAYOUT.registry).map(r => r.span));\n\nfunction encodeTokenInstructionData(instruction) {\n  const b = Buffer.alloc(instructionMaxSpan);\n  const span = LAYOUT.encode(instruction, b);\n  return b.slice(0, span);\n}\n\nfunction decodeTokenInstructionData(instruction) {\n  return LAYOUT.decode(instruction);\n}\n\nexports.decodeTokenInstructionData = decodeTokenInstructionData;\n\nfunction initializeMint({\n  mint,\n  decimals,\n  mintAuthority,\n  freezeAuthority = null\n}) {\n  const keys = [{\n    pubkey: mint,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: web3_js_1.SYSVAR_RENT_PUBKEY,\n    isSigner: false,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      initializeMint: {\n        decimals,\n        mintAuthority,\n        freezeAuthorityOption: !!freezeAuthority,\n        freezeAuthority: freezeAuthority || new web3_js_1.PublicKey(0)\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.initializeMint = initializeMint;\n\nfunction initializeAccount({\n  account,\n  mint,\n  owner\n}) {\n  const keys = [{\n    pubkey: account,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: mint,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: owner,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: web3_js_1.SYSVAR_RENT_PUBKEY,\n    isSigner: false,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      initializeAccount: {}\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.initializeAccount = initializeAccount;\n\nfunction transfer({\n  source,\n  destination,\n  amount,\n  owner\n}) {\n  const keys = [{\n    pubkey: source,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: destination,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: owner,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      transfer: {\n        amount\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.transfer = transfer;\n\nfunction approve({\n  source,\n  delegate,\n  amount,\n  owner\n}) {\n  const keys = [{\n    pubkey: source,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: delegate,\n    isSigner: false,\n    isWritable: false\n  }, {\n    pubkey: owner,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      approve: {\n        amount\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.approve = approve;\n\nfunction revoke({\n  source,\n  owner\n}) {\n  const keys = [{\n    pubkey: source,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: owner,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      revoke: {}\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.revoke = revoke;\n\nfunction setAuthority({\n  target,\n  currentAuthority,\n  newAuthority,\n  authorityType\n}) {\n  const keys = [{\n    pubkey: target,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: currentAuthority,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      setAuthority: {\n        authorityType,\n        newAuthorityOption: !!newAuthority,\n        newAuthority\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.setAuthority = setAuthority;\n\nfunction mintTo({\n  mint,\n  destination,\n  amount,\n  mintAuthority\n}) {\n  const keys = [{\n    pubkey: mint,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: destination,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: mintAuthority,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      mintTo: {\n        amount\n      }\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.mintTo = mintTo;\n\nfunction closeAccount({\n  source,\n  destination,\n  owner\n}) {\n  const keys = [{\n    pubkey: source,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: destination,\n    isSigner: false,\n    isWritable: true\n  }, {\n    pubkey: owner,\n    isSigner: true,\n    isWritable: false\n  }];\n  return new web3_js_1.TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      closeAccount: {}\n    }),\n    programId: exports.TOKEN_PROGRAM_ID\n  });\n}\n\nexports.closeAccount = closeAccount;","map":{"version":3,"sources":["../src/token-instructions.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.closeAccount = exports.mintTo = exports.setAuthority = exports.revoke = exports.approve = exports.transfer = exports.initializeAccount = exports.initializeMint = exports.decodeTokenInstructionData = exports.SRM_DECIMALS = exports.SRM_MINT = exports.MSRM_DECIMALS = exports.MSRM_MINT = exports.WRAPPED_SOL_MINT = exports.TOKEN_PROGRAM_ID = exports.CLOSE_ACCOUNT_OWNER_INDEX = exports.CLOSE_ACCOUNT_DESTINATION_INDEX = exports.CLOSE_ACCOUNT_SOURCE_INDEX = exports.TRANSFER_OWNER_INDEX = exports.TRANSFER_DESTINATION_INDEX = exports.TRANSFER_SOURCE_INDEX = exports.INITIALIZE_ACCOUNT_OWNER_INDEX = exports.INITIALIZE_ACCOUNT_MINT_INDEX = exports.INITIALIZE_ACCOUNT_ACCOUNT_INDEX = void 0;\nconst BufferLayout = __importStar(require(\"buffer-layout\"));\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst layout_1 = require(\"./layout\");\n// NOTE: Update these if the position of arguments for the initializeAccount instruction changes\nexports.INITIALIZE_ACCOUNT_ACCOUNT_INDEX = 0;\nexports.INITIALIZE_ACCOUNT_MINT_INDEX = 1;\nexports.INITIALIZE_ACCOUNT_OWNER_INDEX = 2;\n// NOTE: Update these if the position of arguments for the transfer instruction changes\nexports.TRANSFER_SOURCE_INDEX = 0;\nexports.TRANSFER_DESTINATION_INDEX = 1;\nexports.TRANSFER_OWNER_INDEX = 2;\n// NOTE: Update these if the position of arguments for the closeAccount instruction changes\nexports.CLOSE_ACCOUNT_SOURCE_INDEX = 0;\nexports.CLOSE_ACCOUNT_DESTINATION_INDEX = 1;\nexports.CLOSE_ACCOUNT_OWNER_INDEX = 2;\nexports.TOKEN_PROGRAM_ID = new web3_js_1.PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');\nexports.WRAPPED_SOL_MINT = new web3_js_1.PublicKey('So11111111111111111111111111111111111111112');\nexports.MSRM_MINT = new web3_js_1.PublicKey('MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L');\nexports.MSRM_DECIMALS = 0;\nexports.SRM_MINT = new web3_js_1.PublicKey('SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt');\nexports.SRM_DECIMALS = 6;\nconst LAYOUT = BufferLayout.union(BufferLayout.u8('instruction'));\nLAYOUT.addVariant(0, BufferLayout.struct([\n    BufferLayout.u8('decimals'),\n    layout_1.publicKeyLayout('mintAuthority'),\n    BufferLayout.u8('freezeAuthorityOption'),\n    layout_1.publicKeyLayout('freezeAuthority'),\n]), 'initializeMint');\nLAYOUT.addVariant(1, BufferLayout.struct([]), 'initializeAccount');\nLAYOUT.addVariant(3, BufferLayout.struct([BufferLayout.nu64('amount')]), 'transfer');\nLAYOUT.addVariant(4, BufferLayout.struct([BufferLayout.nu64('amount')]), 'approve');\nLAYOUT.addVariant(5, BufferLayout.struct([]), 'revoke');\nLAYOUT.addVariant(6, BufferLayout.struct([\n    BufferLayout.u8('authorityType'),\n    BufferLayout.u8('newAuthorityOption'),\n    layout_1.publicKeyLayout('newAuthority'),\n]), 'setAuthority');\nLAYOUT.addVariant(7, BufferLayout.struct([BufferLayout.nu64('amount')]), 'mintTo');\nLAYOUT.addVariant(8, BufferLayout.struct([BufferLayout.nu64('amount')]), 'burn');\nLAYOUT.addVariant(9, BufferLayout.struct([]), 'closeAccount');\nconst instructionMaxSpan = Math.max(...Object.values(LAYOUT.registry).map((r) => r.span));\nfunction encodeTokenInstructionData(instruction) {\n    const b = Buffer.alloc(instructionMaxSpan);\n    const span = LAYOUT.encode(instruction, b);\n    return b.slice(0, span);\n}\nfunction decodeTokenInstructionData(instruction) {\n    return LAYOUT.decode(instruction);\n}\nexports.decodeTokenInstructionData = decodeTokenInstructionData;\nfunction initializeMint({ mint, decimals, mintAuthority, freezeAuthority = null, }) {\n    const keys = [\n        { pubkey: mint, isSigner: false, isWritable: true },\n        { pubkey: web3_js_1.SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false },\n    ];\n    return new web3_js_1.TransactionInstruction({\n        keys,\n        data: encodeTokenInstructionData({\n            initializeMint: {\n                decimals,\n                mintAuthority,\n                freezeAuthorityOption: !!freezeAuthority,\n                freezeAuthority: freezeAuthority || new web3_js_1.PublicKey(0),\n            },\n        }),\n        programId: exports.TOKEN_PROGRAM_ID,\n    });\n}\nexports.initializeMint = initializeMint;\nfunction initializeAccount({ account, mint, owner }) {\n    const keys = [\n        { pubkey: account, isSigner: false, isWritable: true },\n        { pubkey: mint, isSigner: false, isWritable: false },\n        { pubkey: owner, isSigner: false, isWritable: false },\n        { pubkey: web3_js_1.SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false },\n    ];\n    return new web3_js_1.TransactionInstruction({\n        keys,\n        data: encodeTokenInstructionData({\n            initializeAccount: {},\n        }),\n        programId: exports.TOKEN_PROGRAM_ID,\n    });\n}\nexports.initializeAccount = initializeAccount;\nfunction transfer({ source, destination, amount, owner }) {\n    const keys = [\n        { pubkey: source, isSigner: false, isWritable: true },\n        { pubkey: destination, isSigner: false, isWritable: true },\n        { pubkey: owner, isSigner: true, isWritable: false },\n    ];\n    return new web3_js_1.TransactionInstruction({\n        keys,\n        data: encodeTokenInstructionData({\n            transfer: { amount },\n        }),\n        programId: exports.TOKEN_PROGRAM_ID,\n    });\n}\nexports.transfer = transfer;\nfunction approve({ source, delegate, amount, owner }) {\n    const keys = [\n        { pubkey: source, isSigner: false, isWritable: true },\n        { pubkey: delegate, isSigner: false, isWritable: false },\n        { pubkey: owner, isSigner: true, isWritable: false },\n    ];\n    return new web3_js_1.TransactionInstruction({\n        keys,\n        data: encodeTokenInstructionData({\n            approve: { amount },\n        }),\n        programId: exports.TOKEN_PROGRAM_ID,\n    });\n}\nexports.approve = approve;\nfunction revoke({ source, owner }) {\n    const keys = [\n        { pubkey: source, isSigner: false, isWritable: true },\n        { pubkey: owner, isSigner: true, isWritable: false },\n    ];\n    return new web3_js_1.TransactionInstruction({\n        keys,\n        data: encodeTokenInstructionData({\n            revoke: {},\n        }),\n        programId: exports.TOKEN_PROGRAM_ID,\n    });\n}\nexports.revoke = revoke;\nfunction setAuthority({ target, currentAuthority, newAuthority, authorityType, }) {\n    const keys = [\n        { pubkey: target, isSigner: false, isWritable: true },\n        { pubkey: currentAuthority, isSigner: true, isWritable: false },\n    ];\n    return new web3_js_1.TransactionInstruction({\n        keys,\n        data: encodeTokenInstructionData({\n            setAuthority: {\n                authorityType,\n                newAuthorityOption: !!newAuthority,\n                newAuthority,\n            },\n        }),\n        programId: exports.TOKEN_PROGRAM_ID,\n    });\n}\nexports.setAuthority = setAuthority;\nfunction mintTo({ mint, destination, amount, mintAuthority }) {\n    const keys = [\n        { pubkey: mint, isSigner: false, isWritable: true },\n        { pubkey: destination, isSigner: false, isWritable: true },\n        { pubkey: mintAuthority, isSigner: true, isWritable: false },\n    ];\n    return new web3_js_1.TransactionInstruction({\n        keys,\n        data: encodeTokenInstructionData({\n            mintTo: { amount },\n        }),\n        programId: exports.TOKEN_PROGRAM_ID,\n    });\n}\nexports.mintTo = mintTo;\nfunction closeAccount({ source, destination, owner }) {\n    const keys = [\n        { pubkey: source, isSigner: false, isWritable: true },\n        { pubkey: destination, isSigner: false, isWritable: true },\n        { pubkey: owner, isSigner: true, isWritable: false },\n    ];\n    return new web3_js_1.TransactionInstruction({\n        keys,\n        data: encodeTokenInstructionData({\n            closeAccount: {},\n        }),\n        programId: exports.TOKEN_PROGRAM_ID,\n    });\n}\nexports.closeAccount = closeAccount;\n//# sourceMappingURL=token-instructions.js.map"]},"metadata":{},"sourceType":"script"}